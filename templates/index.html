<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <title>APP</title>
    <style>
    :root {
      --bg-color: var(--tg-theme-bg-color, #ffffff);
      --text-color: var(--tg-theme-text-color, #000000);
      --accent-color: var(--tg-theme-button-color, #0088cc);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100%;
      height: 100%;
    }
     * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: var(--bg-color);
      color: var(--text-color);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-size: 18px;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    .warn, .main {
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      padding: 20px;
    }

    .warn img {
      width: 120px;
      height: 120px;
      margin-bottom: 12px;
    }

    .Btn {
      padding: 12px 24px;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      background: var(--accent-color);
      color: #fff;
      cursor: pointer;
    }
        .top {
      background: #fff;
      color: #000;
      padding: 12px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .top input {
      flex: 1;
      padding: 8px 12px;
      border-radius: 10px;
      border: none;
      background: #f0f0f0;
    }

    .content {
      flex: 1;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .forward {
      position: absolute;
      top: 20px;
      font-size: 22px;
      font-weight: 600;
      cursor: pointer;
    }

    .side {
      position: absolute;
      top: 40%;
      font-size: 14px;
      padding: 6px 10px;
      background: #2f7d32;
      border-radius: 6px;
      cursor: pointer;
    }

    .left { left: 10px; }
    .right { right: 10px; }

    .circle {
      width: 260px;
      height: 260px;
      border-radius: 50%;
      background: #2e5ae8;
      display: grid;
      place-items: center;
      position: relative;
    }

    .inner {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: #f39c12;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      color: #000;
      cursor: pointer;
    }

    .inner span {
      margin-top: 4px;
      font-size: 14px;
    }

    .actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      padding: 14px;
      background: #fff;
    }
    .btn {
      padding: 14px;
      border-radius: 12px;
      font-weight: bold;
      text-align: center;
      color: #fff;
      cursor: pointer;
    }

    .green { background: #2e7d32; }
    .red { background: #d9534f; }

    .nav {
      display: flex;
      justify-content: space-around;
      background: #1a1a1a;
      padding: 10px 0;
      font-size: 12px;
    }

    .nav div {
      text-align: center;
      color: #fff;
      cursor: pointer;
    }
  </style>
</head>
<body>
    <div id="notInTelegram" class="warn">
    <img alt="TLogo" src="https://telegram.org/img/t_logo.png">
    <p><strong>–£–ø—Å!</strong></p>
    <p>–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–æ <strong>–≤–Ω—É—Ç—Ä–∏ Telegram!</strong></p>
  </div>

  <div id="mainApp" class="main">
    <div class="top">
    ‚ò∞
    <input placeholder="Search" />
    ‚öôÔ∏è
  </div>

  <!-- MAIN -->
  <div class="content">
    <div class="forward" id="btnForward">‚¨Ü –í–ø–µ—Ä—ë–¥</div>

    <div class="side left" id="btnLeft">‚¨Ö –ù–∞–ª–µ–≤–æ</div>
    <div class="side right" id="btnRight">–ù–∞–ø—Ä–∞–≤–æ ‚û°</div>

    <div class="circle">
      <div class="inner" id="btnRepeat">
        üöó
        <span>–ü–û–í–¢–û–†–ò–¢–¨</span>
      </div>
    </div>
  </div>

  <!-- ACTIONS -->
  <div class="actions">
    <div class="btn green" id="btnCommands">–ö–û–ú–ê–ù–î–´</div>
    <div class="btn red" id="btnErrors">–û–®–ò–ë–ö–ò</div>
  </div>

  <!-- NAV -->
  <div class="nav">
    <div onclick="nav('home')">üè†<br>–î–æ–º–æ–π</div>
    <div onclick="nav('back')">‚¨Ö<br>–ù–∞–∑–∞–¥</div>
    <div onclick="nav('select')">‚ò∞<br>–í—ã–±–æ—Ä</div>
    <div onclick="nav('profile')">üë§<br>–ü—Ä–æ—Ñ–∏–ª—å</div>
  </div>

  </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
      const tg = window.Telegram.WebApp;

      tg.ready();
      tg.expand();

      const notInTelegram = document.getElementById("notInTelegram");
      const mainApp = document.getElementById("mainApp");

      if (tg.platform !== "unknown") {
        notInTelegram.style.display = "none";
        mainApp.style.display = "block";
      } else {
        notInTelegram.style.display = "flex";
        mainApp.style.display = "none";
      }
      function send(action) {
      const payload = {
        action,
        time: Date.now()
      };

      console.log("SEND:", payload);

      if (tg.sendData) {
        tg.sendData(JSON.stringify(payload));
      }
    }

    document.getElementById("btnForward").onclick = () => send("forward");
    document.getElementById("btnLeft").onclick = () => send("left");
    document.getElementById("btnRight").onclick = () => send("right");
    document.getElementById("btnRepeat").onclick = () => send("repeat");

    document.getElementById("btnCommands").onclick = () => send("commands");
    document.getElementById("btnErrors").onclick = () => send("errors");

    function nav(where) {
      send("nav_" + where);
    }

    </script>
</body>
</html>
